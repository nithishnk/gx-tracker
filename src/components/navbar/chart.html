<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Document</title>
</head>
<body>
  <div class="card mb-4">
    <div class="card-body py-0 px-5">
    <div class="d-flex flex-wrap justify-content-around mt-4 mb-2 text-center text-sm-left">
    <div class="py-3 px-2">
    <div class="text-muted small" style="height: 25px;">
    <span>Market value</span>
    <a class="unset-color clickable" tabindex="0" data-toggle="popover" data-placement="bottom" data-content="Total market value of your crypto assets minus fiat held on exchanges." data-original-title="" title=""><svg class="svg-inline--fa fa-info-circle fa-w-16" aria-hidden="true" focusable="false" data-prefix="fal" data-icon="info-circle" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" data-fa-i2svg=""><path fill="currentColor" d="M256 40c118.621 0 216 96.075 216 216 0 119.291-96.61 216-216 216-119.244 0-216-96.562-216-216 0-119.203 96.602-216 216-216m0-32C119.043 8 8 119.083 8 256c0 136.997 111.043 248 248 248s248-111.003 248-248C504 119.083 392.957 8 256 8zm-36 344h12V232h-12c-6.627 0-12-5.373-12-12v-8c0-6.627 5.373-12 12-12h48c6.627 0 12 5.373 12 12v140h12c6.627 0 12 5.373 12 12v8c0 6.627-5.373 12-12 12h-72c-6.627 0-12-5.373-12-12v-8c0-6.627 5.373-12 12-12zm36-240c-17.673 0-32 14.327-32 32s14.327 32 32 32 32-14.327 32-32-14.327-32-32-32z"></path></svg><!-- <i class="fal fa-info-circle" aria-hidden="true"></i> --></a>
    </div>
    <div class="h4">$0</div>
    </div>
    <div class="py-3 px-2">
    <div class="text-muted small text-nowrap" style="height: 25px;">
    <span>Cost basis</span>
    <a class="unset-color clickable" tabindex="0" data-toggle="popover" data-placement="bottom" data-content="Original value of your currently held crypto assets at the time you acquired them. <a href=&quot;https://help.cointracker.io/cost-basis/what-is-the-difference-between-net-fiat-invested-and-cost-basis&quot; target=&quot;_blank&quot; rel=&quot;noopener noreferrer&quot;>Learn more</a>" data-original-title="" title=""><svg class="svg-inline--fa fa-info-circle fa-w-16" aria-hidden="true" focusable="false" data-prefix="fal" data-icon="info-circle" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" data-fa-i2svg=""><path fill="currentColor" d="M256 40c118.621 0 216 96.075 216 216 0 119.291-96.61 216-216 216-119.244 0-216-96.562-216-216 0-119.203 96.602-216 216-216m0-32C119.043 8 8 119.083 8 256c0 136.997 111.043 248 248 248s248-111.003 248-248C504 119.083 392.957 8 256 8zm-36 344h12V232h-12c-6.627 0-12-5.373-12-12v-8c0-6.627 5.373-12 12-12h48c6.627 0 12 5.373 12 12v140h12c6.627 0 12 5.373 12 12v8c0 6.627-5.373 12-12 12h-72c-6.627 0-12-5.373-12-12v-8c0-6.627 5.373-12 12-12zm36-240c-17.673 0-32 14.327-32 32s14.327 32 32 32 32-14.327 32-32-14.327-32-32-32z"></path></svg><!-- <i class="fal fa-info-circle" aria-hidden="true"></i> --></a>
    </div>
    <div class="h4">$0</div>
    </div>
    <div class="py-3 px-2">
    <div class="text-muted small text-nowrap" style="height: 25px;">
    <span>Net fiat invested</span>
    <a class="unset-color clickable" tabindex="0" data-toggle="popover" data-placement="bottom" data-content="Total fiat currency (e.g., USD, EUR, etc.) invested into crypto assets minus realized gains. <a href=&quot;https://help.cointracker.io/cost-basis/what-is-the-difference-between-net-fiat-invested-and-cost-basis&quot; target=&quot;_blank&quot; rel=&quot;noopener noreferrer&quot;>Learn more</a>" data-original-title="" title=""><svg class="svg-inline--fa fa-info-circle fa-w-16" aria-hidden="true" focusable="false" data-prefix="fal" data-icon="info-circle" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" data-fa-i2svg=""><path fill="currentColor" d="M256 40c118.621 0 216 96.075 216 216 0 119.291-96.61 216-216 216-119.244 0-216-96.562-216-216 0-119.203 96.602-216 216-216m0-32C119.043 8 8 119.083 8 256c0 136.997 111.043 248 248 248s248-111.003 248-248C504 119.083 392.957 8 256 8zm-36 344h12V232h-12c-6.627 0-12-5.373-12-12v-8c0-6.627 5.373-12 12-12h48c6.627 0 12 5.373 12 12v140h12c6.627 0 12 5.373 12 12v8c0 6.627-5.373 12-12 12h-72c-6.627 0-12-5.373-12-12v-8c0-6.627 5.373-12 12-12zm36-240c-17.673 0-32 14.327-32 32s14.327 32 32 32 32-14.327 32-32-14.327-32-32-32z"></path></svg><!-- <i class="fal fa-info-circle" aria-hidden="true"></i> --></a>
    </div>
    <div class="h4">$0</div>
    </div>
    <div class="py-3 px-3">
    <div class="text-muted small" style="height: 25px;">All time return</div>
    <div class="d-flex flex-nowrap">
    <div class="my-auto mr-3 h4">
    0.00%
    </div>
    <div class="my-auto font-weight-bold text-success">
    <span>$0</span>
    <svg class="svg-inline--fa fa-arrow-up fa-w-14" aria-hidden="true" focusable="false" data-prefix="fas" data-icon="arrow-up" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512" data-fa-i2svg=""><path fill="currentColor" d="M34.9 289.5l-22.2-22.2c-9.4-9.4-9.4-24.6 0-33.9L207 39c9.4-9.4 24.6-9.4 33.9 0l194.3 194.3c9.4 9.4 9.4 24.6 0 33.9L413 289.4c-9.5 9.5-25 9.3-34.3-.4L264 168.6V456c0 13.3-10.7 24-24 24h-32c-13.3 0-24-10.7-24-24V168.6L69.2 289.1c-9.3 9.8-24.8 10-34.3.4z"></path></svg><!-- <i class="fas fa-arrow-up"></i> -->
    </div>
    </div>
    </div>
    </div>
    </div>
    <div class="card-body pt-0 pl-2 pr-0 pl-xl-3">
    <div class="text-right small text-muted mx-4 mt-2">
    <ul class="chart-time-selector nav nav-pills justify-content-end" id="pills-tab" role="tablist">
    <li class="nav-item">
    <a class="chart-time-selector-pill nav-link px-2 " id="pills-home-tab" data-toggle="pill" href="#pills-home" role="tab" aria-controls="pills-home" aria-selected="false">1W</a>
    </li>
    <li class="nav-item">
    <a class="chart-time-selector-pill nav-link px-2 " id="pills-home-tab" data-toggle="pill" href="#pills-home" role="tab" aria-controls="pills-home" aria-selected="false">1M</a>
    </li>
    <li class="nav-item">
    <a class="chart-time-selector-pill nav-link px-2 " id="pills-home-tab" data-toggle="pill" href="#pills-home" role="tab" aria-controls="pills-home" aria-selected="false">1Y</a>
    </li>
    <li class="nav-item">
    <a class="chart-time-selector-pill nav-link px-2 active" id="pills-home-tab" data-toggle="pill" href="#pills-home" role="tab" aria-controls="pills-home" aria-selected="true">ALL</a>
    </li>
    </ul>
    </div>
    <div class="chart" style="width: 100%; height: 400px;"><div class="chartjs-size-monitor" style="position: absolute; left: 0px; top: 0px; right: 0px; bottom: 0px; overflow: hidden; pointer-events: none; visibility: hidden; z-index: -1;"><div class="chartjs-size-monitor-expand" style="position:absolute;left:0;top:0;right:0;bottom:0;overflow:hidden;pointer-events:none;visibility:hidden;z-index:-1;"><div style="position:absolute;width:1000000px;height:1000000px;left:0;top:0"></div></div><div class="chartjs-size-monitor-shrink" style="position:absolute;left:0;top:0;right:0;bottom:0;overflow:hidden;pointer-events:none;visibility:hidden;z-index:-1;"><div style="position:absolute;width:200%;height:200%;left:0; top:0"></div></div></div>
    <canvas id="performance_chart" style="display: block; width: 1092px; height: 400px;" width="1092" height="400" class="chartjs-render-monitor"></canvas>
    </div>
    <script type="text/javascript">
                        function formatCurrency(number) {
        formatted_number = null
        number = number.toFixed(2);
        if (parseInt(number) >= 1000) {
            formatted_number = number.toString().replace(/\B(?=(\d{3})+(?!\d))/g, ",");
        } else {
            formatted_number = number;
        }
    
        return addCurrencySymbol(formatted_number);
    }
    
    function formatCurrencyAbbreviated(number) {
        if (number < 1) {
            return addCurrencySymbol(number.toPrecision(3));
        } else {
            return addCurrencySymbol(numeral(number).format('0.0a'));
        }
    }
    
    function addCurrencySymbol(value) {
        
            return '$' + value;
        
    }
    
    Chart.defaults.LineWithLine = Chart.defaults.line;
    Chart.controllers.LineWithLine = Chart.controllers.line.extend({
        draw: function(ease) {
            Chart.controllers.line.prototype.draw.call(this, ease);
    
            if (this.chart.tooltip._active && this.chart.tooltip._active.length) {
                var activePoint = this.chart.tooltip._active[0],
                ctx = this.chart.ctx,
                x = activePoint.tooltipPosition().x,
                topY = this.chart.scales['y-axis-0'].top,
                bottomY = this.chart.scales['y-axis-0'].bottom;
    
                // draw line
                ctx.save();
                ctx.beginPath();
                ctx.moveTo(x, topY);
                ctx.lineTo(x, bottomY);
                ctx.lineWidth = 1;
                ctx.strokeStyle = '#07C';
                ctx.stroke();
                ctx.restore();
            }
        }
    });
    
    var canvas = document.getElementById("performance_chart");
    var performanceChart = new Chart(canvas, {
        type: 'LineWithLine',
        data: {'datasets': [{'label': 'Market Value', 'data': [0.0], 'backgroundColor': 'rgba(0, 131, 255, 0.2)', 'borderColor': 'rgba(0, 131, 255, 1.0)', 'borderWidth': '2', 'lineTension': '0.2'}, {'label': 'Cost Basis', 'data': [0.0], 'backgroundColor': 'rgba(230, 81, 0, 1.0)', 'borderColor': 'rgba(230, 81, 0, 1.0)', 'fill': 'false', 'borderWidth': '2', 'lineTension': '0.1', 'borderDash': [5, 4]}], 'metadata': {'investmentReturn': [0.0], 'investmentReturnPercent': [0]}, 'labels': ['08/07/2019']},
        options: {
            legend: {
                display: false
            },
            animation: false,
            scales: {
                xAxes: [{
                    gridLines: {
                        display: false
                    },
                    ticks: {
                        fontColor: '#9E9E9E',
                        maxRotation: 0
                    },
                    type: 'time'
                }],
                yAxes: [{
                    gridLines: {
                        drawTicks: false
                    },
                    ticks: {
                        fontColor: '#9E9E9E',
                        callback: function(value, index, values) {
                            return formatCurrencyAbbreviated(value);
                        },
                        padding: 5
                    }
                }]
            },
            tooltips: {
                intersect: false,
                mode: 'index',
                displayColors: true,
                callbacks: {
                    label: function(tooltipItem, data) {
                        valueString = formatCurrency(tooltipItem.yLabel);
                        return data.datasets[tooltipItem.datasetIndex].label + ': ' + valueString;
                    },
                    afterBody: function(tooltipItems, data) {
                        investment_return = data['metadata']['investmentReturn'][tooltipItems[0]['index']];
                        investment_return_percent = data['metadata']['investmentReturnPercent'][tooltipItems[0]['index']];
                        return 'Return: ' + formatCurrency(investment_return) + ' (' + investment_return_percent.toFixed(2) + '%)';
                    }
                },
            },
            elements: { point: { radius: 0 } },
            maintainAspectRatio: false
        }
    });
    
    $('.chart-time-selector-pill').on('shown.bs.tab', function(event) {
        interval = $(event.target).text()
        $.get('/performance/data' + '?interval=' + interval, function(data) {
            performanceChart.data = data;
            performanceChart.update();
        });
    })
                    </script>
    </div>
    </div>
</body>
</html>